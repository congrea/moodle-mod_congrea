{"version":3,"sources":["../src/congrea.js"],"names":["define","$","presetColor","change","val","value","css","congreaOnlinePopup","click","e","url","target","attr","expected","Date","now","hide","window","location","reload","open","congreaPlayRecording","congreaHideJoin","timeDiff","document","ready","interval"],"mappings":"AAWAA,OAAM,uBAAC,CAAC,QAAD,CAAW,WAAX,CAAwB,mBAAxB,CAAD,CAA+C,SAASC,CAAT,CAAY,CAC7D,MAAO,CACHC,WAAW,CAAE,sBAAW,CACpBD,CAAC,CAAC,oDAAD,CAAD,CAAwDE,MAAxD,CAA+D,UAAW,CACtE,GAAIC,CAAAA,CAAG,CAAG,KAAKC,KAAf,CACAJ,CAAC,CAAC,oCAAD,CAAD,CAAwCK,GAAxC,CAA4C,kBAA5C,CAAgEF,CAAhE,EACAH,CAAC,CAAC,+BAAD,CAAD,CAAmCG,GAAnC,CAAuCA,CAAvC,CACH,CAJD,CAMH,CARE,CASLG,kBAAkB,CAAE,6BAAW,CACzBN,CAAC,CAAC,mBAAD,CAAD,CAAuBO,KAAvB,CAA6B,SAASC,CAAT,CAAY,IAC/BC,CAAAA,CAAG,CAAGT,CAAC,CAACQ,CAAC,CAACE,MAAH,CAAD,CAAYC,IAAZ,CAAiB,SAAjB,CADyB,CAE/BC,CAAQ,CAAGZ,CAAC,CAACQ,CAAC,CAACE,MAAH,CAAD,CAAYC,IAAZ,CAAiB,eAAjB,CAFoB,CAGrC,GAAIE,IAAI,CAACC,GAAL,GAAaF,CAAb,EAAqC,CAAZ,EAAAA,CAA7B,CAA4C,CAC1CZ,CAAC,CAAC,WAAD,CAAD,CAAee,IAAf,GACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EACD,CAHD,IAGO,CACLF,MAAM,CAACG,IAAP,CAAYV,CAAZ,CAAiB,SAAjB,CACD,CACJ,CATD,CA8BH,CAxCE,CAyCLW,oBAAoB,CAAE,+BAAW,CAC3BpB,CAAC,CAAC,cAAD,CAAD,CAAkBO,KAAlB,CAAwB,SAASC,CAAT,CAAY,CAChC,GAAMC,CAAAA,CAAG,CAAGT,CAAC,CAACQ,CAAC,CAACE,MAAH,CAAD,CAAYC,IAAZ,CAAiB,SAAjB,CAAZ,CACAK,MAAM,CAACG,IAAP,CAAYV,CAAZ,CAAiB,SAAjB,CACH,CAHD,CAkBH,CA5DE,CA6DHY,eAAe,CAAE,yBAASC,CAAT,CAAmB,CAChCtB,CAAC,CAACuB,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAW,CACzB,GAAIZ,CAAAA,CAAJ,CAAca,CAAd,CACA,GAAgB,CAAZ,EAAAH,CAAJ,CAAmB,CACfV,CAAQ,CAAG,CACd,CAFD,IAEO,CACHa,CAAQ,CAAqB,GAAlB,EAACH,CAAQ,CAAG,EAAZ,CAAX,CACAV,CAAQ,CAAGC,IAAI,CAACC,GAAL,GAAaW,CAC3B,CACDzB,CAAC,CAAC,iCAAD,CAAD,CAAmCG,GAAnC,CAAuCS,CAAvC,CACH,CATD,CAUH,CAxEE,CA0ET,CA3EI,CAAN","sourcesContent":["/**\n* Color setting for congrea\n*\n* You can have a rather longer description of the file as well,\n* if you like, and it can span multiple lines.\n*\n* @package    mod_Congrea\n* @copyright  2020 vidyamantra.com\n* @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n*/\n\ndefine(['jquery', 'core/ajax', 'core/notification'], function($) {\n    return {\n        presetColor: function() {\n            $(\".form-select.defaultsnext #id_s_mod_congrea_preset\").change(function() {\n                var val = this.value;\n                $('.admin_colourpicker .currentcolour').css('background-color', val);\n                $('#id_s_mod_congrea_colorpicker').val(val);\n            });\n\n        },\n      congreaOnlinePopup: function() {\n            $('#overrideform-btn').click(function(e) {\n                const url = $(e.target).attr('data-to');\n                const expected = $(e.target).attr('data-expected');\n                if (Date.now() > expected && expected != 0) {\n                  $('.vcbutton').hide();\n                  window.location.reload();\n                } else {\n                  window.open(url, 'popupVc');\n                }\n            });\n            // $('#overrideform').submit(function() {\n            //     var expected = $('input[name =\"expectedendtime\"]').val();\n            //     var newTab = window.open('', 'popupVc');\n            //     if (Date.now() > expected && expected != 0) {\n            //         $('.vcbutton').hide();\n            //         window.location.reload();\n            //         return false;\n            //     } else {\n            //         if (window.newTab && window.newTab.closed === false) {\n            //             newTab.focus();\n            //             return false;\n            //         }\n            //         $(this).attr('target', 'popupVc');\n            //         if (newTab) {\n            //             newTab.focus();\n            //             return newTab;\n            //         }\n            //         return true;\n            //     }\n            // });\n        },\n      congreaPlayRecording: function() {\n            $('.playAct-Btn').click(function(e) {\n                const url = $(e.target).attr('data-to');\n                window.open(url, 'popupVc');\n            });\n\n            // $('.playAct').submit(function() {\n            //     var newTab = window.open('', 'popupVc');\n            //     if (window.newTab && window.newTab.closed === false) {\n            //         newTab.focus();\n            //         return false;\n            //     }\n            //     $(this).attr('target', 'popupVc');\n            //     if (newTab) {\n            //         newTab.focus();\n            //         return newTab;\n            //     }\n            //     return true;\n            // });\n        },\n        congreaHideJoin: function(timeDiff) {\n            $(document).ready(function() {\n                var expected, interval;\n                if (timeDiff == 0) {\n                    expected = 0;\n                } else {\n                    interval = (timeDiff - 30) * 1000;\n                    expected = Date.now() + interval;\n                }\n                $('input[name=\"expectedendtime\"]').val(expected);\n            });\n        },\n    };\n });"],"file":"congrea.min.js"}